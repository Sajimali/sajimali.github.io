<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sajku1 Store Dashboard</title>
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js';
    import { getAuth, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/11.6.0/firebase-auth.js';
    import { getFirestore, doc, getDoc, setDoc, updateDoc, collection, query, where, getDocs } from 'https://www.gstatic.com/firebasejs/11.6.0/firebase-firestore.js';
    import { getStorage, ref, uploadBytes, getDownloadURL } from 'https://www.gstatic.com/firebasejs/11.6.0/firebase-storage.js';const firebaseConfig = {
  apiKey: "AIzaSyCO6p2DX7cb19ELNHbsDl0ZRQ7kgMvUzGs",
  authDomain: "sajku-store.firebaseapp.com",
  projectId: "sajku-store",
  storageBucket: "sajku-store.appspot.com",
  messagingSenderId: "831227140840",
  appId: "1:831227140840:web:634cc6248ead6ab186075d",
  measurementId: "G-BDH8FP9R56"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth();
const db = getFirestore();
const storage = getStorage();

const defaultAdmob = {
  banner: 'ca-app-pub-5534254536913287/6837788351',
  interstitial: 'ca-app-pub-5534254536913287/6044824702',
  rewarded: 'ca-app-pub-5534254536913287/7212596405',
  native: 'ca-app-pub-5534254536913287/3273351397',
  appOpen: 'ca-app-pub-5534254536913287/7021024718'
};

let currentUser;
onAuthStateChanged(auth, async (user) => {
  if (!user) return;
  currentUser = user;

  const userDoc = await getDoc(doc(db, "users", user.uid));
  const earningsDoc = await getDoc(doc(db, "earnings", user.uid));
  const systemDoc = await getDoc(doc(db, "system", "earnings"));

  document.getElementById("username").innerText = userDoc.data().name || "User";
  document.getElementById("profile-pic").src = userDoc.data().photoURL || "default.png";
  document.getElementById("upload-earnings").innerText = earningsDoc.data().upload || 0;
  document.getElementById("download-earnings").innerText = earningsDoc.data().download || 0;
  window.systemEarnings = systemDoc.data().amount || 0;
  window.systemPassword = systemDoc.data().password || '1234';
});

window.unlockSystemBox = () => {
  const entered = document.getElementById("system-password").value;
  if (entered === window.systemPassword) {
    document.getElementById("system-box").style.display = "block";
    document.getElementById("system-amount").innerText = window.systemEarnings;
    document.getElementById("message").innerText = "Unlocked!";
  } else {
    document.getElementById("message").innerText = "Wrong Password!";
  }
};

window.changeSystemPassword = async () => {
  const newPass = document.getElementById("new-system-password").value;
  await setDoc(doc(db, "system", "earnings"), { password: newPass }, { merge: true });
  window.systemPassword = newPass;
  document.getElementById("message").innerText = "Password Changed!";
};

window.uploadApp = async () => {
  const name = document.getElementById("app-name").value;
  const admob = {
    banner: document.getElementById("admob-banner").value || defaultAdmob.banner,
    interstitial: document.getElementById("admob-interstitial").value || defaultAdmob.interstitial,
    rewarded: document.getElementById("admob-rewarded").value || defaultAdmob.rewarded,
    native: document.getElementById("admob-native").value || defaultAdmob.native,
    appOpen: document.getElementById("admob-appopen").value || defaultAdmob.appOpen
  };
  await setDoc(doc(db, "apps", name + Date.now()), {
    name,
    uploaderId: currentUser.uid,
    admob,
    downloads: 0
  });
  alert("App uploaded successfully!");
}

  </script>
</head>
<body>
  <h2>Welcome, <span id="username"></span></h2>
  <img id="profile-pic" width="100" height="100" />
  <div>
    <h3>Your Earnings</h3>
    <p>Upload Earnings: ₹<span id="upload-earnings"></span></p>
    <p>Download Earnings: ₹<span id="download-earnings"></span></p>
  </div>
  <div>
    <h3>Upload New App</h3>
    <input id="app-name" placeholder="App Name" />
    <input id="admob-banner" placeholder="Banner Ad Unit" />
    <input id="admob-interstitial" placeholder="Interstitial Ad Unit" />
    <input id="admob-rewarded" placeholder="Rewarded Ad Unit" />
    <input id="admob-native" placeholder="Native Ad Unit" />
    <input id="admob-appopen" placeholder="App Open Ad Unit" />
    <button onclick="uploadApp()">Upload App</button>
  </div>
  <div>
    <h3>System Earnings (Locked)</h3>
    <input type="password" id="system-password" placeholder="Enter Password" />
    <button onclick="unlockSystemBox()">Unlock</button>
    <p id="message"></p>
    <div id="system-box" style="display:none">
      <p>Total System Earnings: ₹<span id="system-amount"></span></p>
      <input type="password" id="new-system-password" placeholder="New Password" />
      <button onclick="changeSystemPassword()">Change Password</button>
    </div>
  </div>
</body>
</html>

        


  
